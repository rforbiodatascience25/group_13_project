---
title: "02_clean"
format: html
---

```{r}
library("tidyverse")
library("here")
library("purrr")
# library("GGally")
```

## Load data

```{r}
nt_meta_path <- here("_raw/neurotransmitter-receptors-dirty-meta.csv")
nt_feat_path <- here("_raw/neurotransmitter-receptors-dirty-features.csv")

ntm_dirty <- read_csv(nt_meta_path, show_col_types = FALSE)
ntf_dirty <- read_csv(nt_feat_path, show_col_types = FALSE)
```

## Neurotransmitter metadata

```{r}
ntm_dirty <- ntm_dirty |> select(-`3D_Structure_URL`, 
                               -`Subunit_Structure`)

ntm_dirty |> head()
```

```{r}
ntm_dirty |> 
  count(Organism, name = "value") |> 
  ggplot(aes(x = "", y = value, fill = Organism)) +
    geom_col(width = 1) +
    coord_polar(theta = "y") +
    scale_fill_viridis_d(option = "turbo") +
    theme_void()
```


## Neurotransmitter features

```{r}
ntf_dirty |> head()
ntf_aa <- ntf_dirty %>% select(starts_with("aa_"))
ntf_rest <- ntf_dirty %>% select(-starts_with("aa_"))

ntf_aa |> head()
ntf_rest |> head()
```


```{r, warning=FALSE, message=FALSE}
# ntf_rest |> ggpairs() + scale_x_log10() + scale_y_log10()
# ntf_aa |> ggpairs() + scale_x_log10() + scale_y_log10()
```

